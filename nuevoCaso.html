<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevo Caso - Sistema de Gestion de Juicios</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header class="header-gob">
        <div class="header-logo">
            <span class="logo-text">Gobierno de Mexico</span>
        </div>
        <nav class="header-nav">
            <div class="header-user">
                <span id="nombreUsuario">Usuario</span>
            </div>
            <button class="btn-logout" onclick="cerrarSesion()">Cerrar Sesion</button>
        </nav>
    </header>

    <div class="container">
        <div class="breadcrumb">
            <a href="casos.html">Casos</a>
            <span class="breadcrumb-separator">></span>
            <span>Nuevo Caso</span>
        </div>

        <div class="page-header">
            <div>
                <h1 class="page-title">Nuevo Caso Civil / Mercantil</h1>
                <p class="page-subtitle">Completa todos los campos requeridos</p>
            </div>
        </div>

        <form id="formNuevoCaso" class="card">
            <!-- SECCION 1: Informacion General -->
            <div class="form-section">
                <h3 class="form-section-title">Informacion General</h3>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label required">OOAD / UMAE</label>
                        <select id="delegacion" class="form-select" required>
                            <option value="">Seleccione...</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label required">Area Generadora</label>
                        <select id="area" class="form-select" required disabled>
                            <option value="">Primero seleccione delegacion</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label required">Jurisdiccion</label>
                    <div class="form-radio-group">
                        <div class="form-radio">
                            <input type="radio" id="local" name="jurisdiccion" value="LOCAL" required>
                            <label for="local">Local</label>
                        </div>
                        <div class="form-radio">
                            <input type="radio" id="federal" name="jurisdiccion" value="FEDERAL">
                            <label for="federal">Federal</label>
                        </div>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label required">Tipo de Juicio</label>
                        <select id="tipoJuicio" class="form-select" required>
                            <option value="">Seleccione...</option>
                            <option value="CIVIL">Civil</option>
                            <option value="MERCANTIL">Mercantil</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label required">Subtipo</label>
                        <select id="subtipoJuicio" class="form-select" required disabled>
                            <option value="">Primero seleccione tipo</option>
                        </select>
                    </div>

                    <div class="form-group" id="grupSubsubtipo" style="display: none;">
                        <label class="form-label">Sub-subtipo</label>
                        <select id="subsubtipoJuicio" class="form-select">
                            <option value="">Ninguno</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- SECCION 2: Expediente -->
            <div class="form-section">
                <h3 class="form-section-title">Identificacion del Expediente</h3>

                <div id="campoLocal" style="display: none;">
                    <div class="form-group">
                        <label class="form-label required">Numero de Juicio (Local)</label>
                        <input type="text" id="numeroLocal" class="form-input" maxlength="30" placeholder="Alfanumerico, maximo 30 caracteres">
                        <small style="color: var(--color-text-light);">Ejemplo: CIV-2024-ORD-123</small>
                    </div>
                </div>

                <div id="campoFederal" style="display: none;">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label required">Numero de Juicio (6 digitos)</label>
                            <input
                                type="text"
                                id="numeroFederal"
                                class="form-input"
                                maxlength="6"
                                placeholder="123456"
                                pattern="[0-9]{6}"
                                title="Solo numeros, exactamente 6 digitos"
                            >
                        </div>
                        <div class="form-group">
                            <label class="form-label required">Ano (4 digitos)</label>
                            <input
                                type="text"
                                id="anoFederal"
                                class="form-input"
                                maxlength="4"
                                placeholder="2024"
                                pattern="[0-9]{4}"
                                title="Solo numeros, exactamente 4 digitos"
                            >
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECCION 3: Tribunal -->
            <div class="form-section">
                <h3 class="form-section-title">Tribunal</h3>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label required">Tribunal / Juzgado</label>
                        <select id="tribunal" class="form-select" required>
                            <option value="">Seleccione...</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label required">Fecha de Inicio</label>
                        <input type="date" id="fechaInicio" class="form-input" required>
                    </div>
                </div>
            </div>

            <!-- SECCION 4: Posicion IMSS -->
            <div class="form-section">
                <h3 class="form-section-title">Posicion del IMSS</h3>

                <div class="form-group">
                    <label class="form-label required">El IMSS es:</label>
                    <div class="form-radio-group">
                        <div class="form-radio">
                            <input type="radio" id="imssActor" name="imssEs" value="ACTOR" required>
                            <label for="imssActor">Actor</label>
                        </div>
                        <div class="form-radio">
                            <input type="radio" id="imssDemandado" name="imssEs" value="DEMANDADO">
                            <label for="imssDemandado">Demandado</label>
                        </div>
                        <div class="form-radio">
                            <input type="radio" id="imssTercero" name="imssEs" value="TERCERO">
                            <label for="imssTercero">Tercero</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECCION 5: Actores (dinamico) -->
            <div class="form-section" id="seccionActor" style="display: none;">
                <h3 class="form-section-title">Actor(es)</h3>

                <div id="listaActores"></div>

                <button type="button" class="btn-add" onclick="agregarActor()">
                    + Agregar Actor
                </button>
            </div>

            <!-- SECCION 6: Demandados -->
            <div class="form-section" id="seccionDemandados" style="display: none;">
                <h3 class="form-section-title">Demandados</h3>

                <div id="listaDemandados"></div>

                <button type="button" class="btn-add" onclick="agregarDemandado()">
                    + Agregar Demandado
                </button>
            </div>

            <!-- SECCION 7: Codemandados -->
            <div class="form-section">
                <h3 class="form-section-title">Codemandados (opcional)</h3>

                <div id="listaCodemandados"></div>

                <button type="button" class="btn-add" onclick="agregarCodemandado()">
                    + Agregar Codemandado
                </button>
            </div>

            <!-- SECCION 8: Prestaciones -->
            <div class="form-section">
                <h3 class="form-section-title">Prestaciones</h3>

                <div class="form-group">
                    <label class="form-label required">Prestaciones Reclamadas</label>
                    <div id="prestacionesCheckboxes" class="form-checkbox-group">
                        <!-- Se llena dinamicamente -->
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Notas / Especificaciones</label>
                    <textarea id="prestacionesNotas" class="form-textarea" placeholder="Detalles adicionales sobre las prestaciones reclamadas..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Importe Demandado</label>
                    <div class="importe-container">
                        <div class="form-checkbox" style="margin-bottom: 8px;">
                            <input type="checkbox" id="sinCuantia">
                            <label for="sinCuantia">Sin cuantia</label>
                        </div>
                        <input type="text" id="importeDemandado" class="form-input" placeholder="0.00">
                    </div>
                </div>
            </div>

            <!-- SECCION 9: Abogado y Pronostico -->
            <div class="form-section">
                <h3 class="form-section-title">Asignacion</h3>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Abogado Responsable</label>
                        <input type="text" id="abogadoResponsable" class="form-input" placeholder="Nombre del abogado responsable">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Pronostico</label>
                        <select id="pronostico" class="form-select">
                            <option value="">Seleccione...</option>
                            <option value="FAVORABLE">Favorable</option>
                            <option value="DESFAVORABLE">Desfavorable</option>
                            <option value="SIN PRONOSTICO">Sin Pronostico</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Botones -->
            <div style="display: flex; gap: 16px; justify-content: flex-end; margin-top: 32px;">
                <a href="casos.html" class="btn btn-secondary">Cancelar</a>
                <button type="submit" class="btn btn-success">Guardar Caso</button>
            </div>
        </form>
    </div>

    <script src="js/datosFake.js"></script>
    <script src="js/formulario.js"></script>
</body>
</html>
